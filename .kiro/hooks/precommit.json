{
  "name": "SpecSync Pre-Commit Validation",
  "description": "Validates staged changes for spec-code-test-doc alignment before commit",
  "trigger": "on_commit",
  "action": "send_message",
  "message": "Please validate the staged changes for spec-code-test-doc alignment using SpecSync rules.\n\n**Validation Steps:**\n1. Use the MCP git context tool to get staged changes\n2. Check spec alignment - verify code changes match specifications in .kiro/specs/\n3. Check test coverage - ensure tests exist for all code changes\n4. Check documentation - verify docs reflect API changes\n5. Apply steering rules from .kiro/steering/rules.md\n\n**Auto-Fix Mode:**\nCheck .kiro/settings/specsync.json for configuration:\n- If mode is 'auto-fix' and enabled: Automatically fix all drift issues\n- If mode is 'tasks': Generate remediation tasks file\n- If disabled: Block commit on drift\n\n**Auto-Fix Process (if enabled):**\n1. Detect all drift issues\n2. Update .kiro/specs/app.yaml with missing definitions\n3. Create tests in tests/unit/ for new functionality\n4. Write documentation in docs/api/ for new endpoints\n5. Stage all changes\n6. Create follow-up commit: 'ðŸ¤– SpecSync: Auto-fix drift for [original commit message]'\n7. Report what was fixed\n\nPlease proceed with validation and auto-fix if configured."
}
